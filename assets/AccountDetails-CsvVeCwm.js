import{u as k,a as C,r as c,o as D,c as l,b as e,d as b,t as a,e as g,f as m,g as A,h as n}from"./index-Cq6E6ki2.js";const U={key:0,class:"max-w-3xl mx-auto mt-10"},S={class:"bg-white rounded-2xl shadow-lg p-8"},B={class:"flex items-center mb-8"},E={class:"w-24 h-24 bg-gray-200 rounded-full overflow-hidden mr-6 flex-shrink-0"},j=["src"],L={key:1,class:"w-full h-full flex items-center justify-center bg-[#E0AAFF]"},$={class:"text-3xl font-bold text-white"},I={class:"text-xl font-bold text-gray-800"},M={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},N={class:"bg-[#F8F8F8] rounded-lg px-4 py-2 text-gray-700 w-full min-w-0 break-words whitespace-normal"},P={class:"bg-[#F8F8F8] rounded-lg px-4 py-2 text-gray-700 w-full min-w-0 break-words whitespace-normal"},R={class:"bg-[#F8F8F8] rounded-lg px-4 py-2 text-gray-700 w-full min-w-0 break-words whitespace-normal"},T={class:"bg-[#F8F8F8] rounded-lg px-4 py-2 text-gray-700 w-full min-w-0 break-words whitespace-normal"},V={class:"flex flex-row-reverse gap-4 mt-8"},z={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},q={class:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full"},G={class:"text-gray-600 mb-6"},H={class:"font-semibold"},J={class:"flex justify-end space-x-3"},K={key:1,class:"max-w-3xl mx-auto mt-10 text-center"},O={key:2,class:"max-w-3xl mx-auto mt-10 text-center text-red-500"},f="http://localhost:5000/api",X={__name:"AccountDetails",setup(Q){const v=C(),y=A(),i=k(),p=v.params.id,t=c(null),d=c(!0),r=c(!1),h=async()=>{d.value=!0;try{const o=await m.get(`${f}/admin/users/${p}`);t.value=o.data.user}catch(o){console.error("Error fetching user details:",o),i.error("Failed to load user details")}finally{d.value=!1}},w=o=>o?o.split(" ").map(s=>{var u;return((u=s[0])==null?void 0:u.toUpperCase())||""}).slice(0,2).join(""):"?",x=()=>{y.push({name:"Account_Management"})},_=()=>{r.value=!0},F=async()=>{try{await m.patch(`${f}/admin/users/${p}/suspend`),t.value.is_active=!1,i.success("User account suspended successfully"),r.value=!1}catch(o){console.error("Error suspending user:",o),i.error("Failed to suspend user account")}};return D(()=>{h()}),(o,s)=>t.value?(n(),l("div",U,[e("div",S,[s[5]||(s[5]=e("h2",{class:"text-2xl font-bold text-[#C77DFF] mb-6"},"User Account Details",-1)),e("div",B,[e("div",E,[t.value.profile_pic?(n(),l("img",{key:0,src:t.value.profile_pic,alt:"User profile",class:"w-full h-full object-cover"},null,8,j)):(n(),l("div",L,[e("span",$,a(w(t.value.name)),1)]))]),e("div",null,[e("h3",I,a(t.value.name),1)])]),e("div",M,[e("div",null,[s[1]||(s[1]=e("label",{class:"block text-[#C77DFF] font-semibold mb-1"},"Email",-1)),e("div",N,a(t.value.email),1)]),e("div",null,[s[2]||(s[2]=e("label",{class:"block text-[#C77DFF] font-semibold mb-1"},"Phone",-1)),e("div",P,a(t.value.phone),1)]),e("div",null,[s[3]||(s[3]=e("label",{class:"block text-[#C77DFF] font-semibold mb-1"},"User ID",-1)),e("div",R,a(t.value.id||t.value.user_id),1)]),e("div",null,[s[4]||(s[4]=e("label",{class:"block text-[#C77DFF] font-semibold mb-1"},"User Type",-1)),e("div",T,a(t.value.role||t.value.user_type||"Passenger"),1)])]),e("div",V,[t.value.is_active?(n(),l("button",{key:0,type:"button",class:"bg-red-500 text-white px-8 py-2 rounded-lg font-semibold shadow hover:bg-red-600 transition",onClick:_}," Suspend Account ")):b("",!0),e("button",{type:"button",class:"bg-[#C77DFF] text-white px-8 py-2 rounded-lg font-semibold shadow hover:bg-[#a259e6] transition",onClick:x}," Back to List ")])]),r.value?(n(),l("div",z,[e("div",q,[s[8]||(s[8]=e("h2",{class:"text-xl font-bold text-gray-800 mb-4"},"Suspend Account",-1)),e("p",G,[s[6]||(s[6]=g(" Are you sure you want to suspend the account for ")),e("span",H,a(t.value.name),1),s[7]||(s[7]=g("? "))]),e("div",J,[e("button",{onClick:s[0]||(s[0]=u=>r.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400"}," Cancel "),e("button",{onClick:F,class:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600"}," Suspend ")])])])):b("",!0)])):d.value?(n(),l("div",K,s[9]||(s[9]=[e("p",{class:"text-[#C77DFF] font-bold text-xl"},"Loading user details...",-1)]))):(n(),l("div",O,[s[10]||(s[10]=e("p",null,"User not found or error loading user details.",-1)),e("button",{onClick:x,class:"mt-4 bg-[#C77DFF] text-white px-8 py-2 rounded-lg font-semibold shadow hover:bg-[#a259e6] transition"}," Back to User List ")]))}};export{X as default};
